@import 'variables';

// ng-table default css
.ng-table th {
  // text-align: center;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none
}
.ng-table {
  .text-right {
    text-align: right;
  }
}

.ng-table th.sortable {
  cursor: pointer
}

.ng-table th.sortable .sort-indicator {
  padding-right: 18px;
  position: relative;

  &.sort-indicator--custom {
    align-items: flex-start;
    display: flex;
    flex-flow: row nowrap;
    justify-content: flex-start;
    padding-right: 0;

    &:before,
    &:after {
      display: none;
    }
  }
}


.sort-indicator--custom__icons {
  color: $sort-indicator-custom-color;
  font-size: .85rem;
  margin-left: 5px;
  margin-top: .2rem;

  .ng-table th:not(.sortable) & {
    display: none;
  }
}

.ng-table th.sortable .sort-indicator:after,
.ng-table th.sortable .sort-indicator:before {
  content: "";
  border-width: 0 4px 4px;
  border-style: solid;
  border-color: $table-sort-indication-color transparent;
  visibility: visible;
  right: 5px;
  top: 50%;
  position: absolute;
  opacity: .3;
  margin-top: -4px;
  margin-right: -5px;
}

.ng-table th.sortable .sort-indicator:before {
  margin-top: 2px;
  border-bottom: 0;
  border-left: 4px solid transparent;
  border-right: 4px solid transparent;
  border-top: 4px solid $table-sort-indication-color;
}

.ng-table th.sortable .sort-indicator:hover:after,
.ng-table th.sortable .sort-indicator:hover:before {
  opacity: 1;
  visibility: visible
}

.ng-table th.sortable.sort-desc,
.ng-table th.sortable.sort-asc {
  background-color: rgba(141, 192, 219, .25);
  text-shadow: 0 1px 1px rgba(255, 255, 255, .75)
}

.ng-table th.sortable.sort-desc .sort-indicator:after,
.ng-table th.sortable.sort-asc .sort-indicator:after {
  margin-top: -2px
}

.ng-table th.sortable.sort-desc .sort-indicator:before,
.ng-table th.sortable.sort-asc .sort-indicator:before {
  visibility: hidden
}

.ng-table th.sortable.sort-asc .sort-indicator:after,
.ng-table th.sortable.sort-asc .sort-indicator:hover:after {
  visibility: visible;
  filter: alpha(opacity=60);
  -khtml-opacity: .6;
  -moz-opacity: .6;
  opacity: .6
}

.ng-table th.sortable.sort-desc .sort-indicator:after {
  border-bottom: 0;
  border-left: 4px solid transparent;
  border-right: 4px solid transparent;
  border-top: 4px solid $table-sort-indication-color;
  visibility: visible;
  -webkit-box-shadow: none;
  -moz-box-shadow: none;
  box-shadow: none;
  filter: alpha(opacity=100);
  -khtml-opacity: 1;
  -moz-opacity: 1;
  opacity: 1
}

.ng-table th.filter .input-filter {
  margin: 0;
  display: block;
  width: 100%;
  min-height: 30px;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box
}

.ng-table+.pagination {
  margin-top: 0
}

@media only screen and (max-width:800px) {
  .ng-table-responsive {
    border-bottom: 1px solid #999
  }

  .ng-table-responsive tr {
    border-top: 1px solid #999;
    border-left: 1px solid #999;
    border-right: 1px solid #999
  }

  .ng-table-responsive td:before {
    position: absolute;
    padding: 8px;
    left: 0;
    top: 0;
    width: 50%;
    white-space: nowrap;
    text-align: left;
    font-weight: 700
  }

  .ng-table-responsive thead tr th {
    text-align: left
  }

  .ng-table-responsive thead tr.ng-table-filters th {
    padding: 0
  }

  .ng-table-responsive thead tr.ng-table-filters th form>div {
    padding: 8px
  }

  .ng-table-responsive td {
    border: 0;
    border-bottom: 1px solid #eee;
    position: relative;
    padding-left: 50%;
    white-space: normal;
    text-align: left
  }

  .ng-table-responsive td:before {
    content: attr(data-title-text)
  }

  .ng-table-responsive,
  .ng-table-responsive thead,
  .ng-table-responsive tbody,
  .ng-table-responsive th,
  .ng-table-responsive td,
  .ng-table-responsive tr {
    display: block
  }
}

// overrides
.ng-table-pager {

  &:before,
  &:after {
    content: " ";
    display: table;
  }
  &:after {
    clear: both;
  }
  .ng-table-counts,
  .ng-table-pagination {
    margin: 20px 0 5px;
  }
  .ng-table-counts > button {
    background: if(variable-exists(pagination-btn-active-bg), $pagination-btn-active-bg, #f1f1f1);
    border: $pagination-btn-border;
    border-radius: $pagination-btn-border-radius !important;
    color: if(variable-exists(pagination-inactive-text), $pagination-inactive-text, #666);
    font-size: $pagination-button-font-size;
    padding: $pagination-btn-padding;

    &:hover {
      z-index: auto;
    }
  }
  .ng-table-counts> .active {
    background: $pagination-btn-active-bg;
    border-color: $pagination-active-bg !important;
    color: $pagination-active-text !important;
    @if $theme == 'pagonxt' {
      font-weight: $pagination-btn-active-weight;
    }
    z-index: 2;

    &:hover {
      z-index: 2;
    }
  }
}

.table-panel .box-body {
  overflow: $table-panel-box-body-overflow;
  margin: 0;
  padding: 10px 0;

  #release-notes & {
    overflow: hidden;
  }

  &.table-bordered {
    border-left: 0 none;
    border-right: 0 none;
  }
}

.demica-table:not(.no-stripes),
.table:not(.no-stripes) {
  tbody tr:nth-of-type(odd) {
    background: $table-row-shade;
  }
}

.table-hover > tbody > tr:hover {
  background: $table-row-shade-hover !important;
}

.demica-table {

  min-height: 41px;

  td,
  th,
  tbody>tr>td,
  thead>tr>th {
    font-size: $demica-table-head-font-size;
    line-height: 1.4em;
    padding: 8px;
    &:last-of-type:not(:first-of-type):not(.groupUtilisationAmount):not(.errorCount){
      text-align: left !important;
    }
  }

  th,
  .ng-table-header {
    word-wrap: break-word;
    vertical-align: text-top !important;
  }

  thead>tr>th {
    vertical-align: bottom;
    @extend %default-thead-font;
  }

  tbody>tr>td {
    vertical-align: middle;
    @extend %default-tbody-font;
    border-bottom: $table-row-border-bottom;
  }

  tbody>tr {
    &:hover {
      background: $table-row-shade-hover !important;
    }
  }

  tbody>tr>td .btn {
    text-decoration: none;
  }

  td {
    .fa {
      margin: 0;
    }
  }
  th.currency,
  td.currency {
    padding-right: 8px !important;
    @include alignTableColumnContent(right);
  }

  th.currency-code,
  td.currency-code,
  th.docType,
  th.text,
  td.text {
    text-align: left !important;
    padding-right: 8px !important;
  }

  th.centered-text,
  td.centered-text,
  th.date,
  td.date {
    padding-right: 8px !important;
    @include alignTableColumnContent(center);
  }

  th.center,
  td.status-icon,
  th.cutoffTime,
  td.cutoffTime,
  th.cashflowStatus,
  td.cashflowStatus {
    @include alignTableColumnContent(center)
  }

  th.code,
  td.code {
    font-weight: $table-code-font-weight;
  }

  td.status {
    padding-right: 0;
  }

  td.action-buttons {
    width: 65px;
    padding: 0;
  }

  .currency.positive {
    color: $pastel-green;
  }

  .currency.negative {
    color: $pastel-red;
  }

  .status {
    width: 10em;

    i.ion {
      float: left;
      padding: 1px 7px 0 0;
      font-size: 20px;
    }

    .action-button {
      float: right;
    }
  }

  .loader,
  .centered {
    text-align: center;
  }

  .loader {
    padding: 2em;

    .mdl-progress {
      margin: auto;
    }
  }

  th.numeric,
  td.numeric,
  th.decimal,
  td.decimal,
  th.amount,
  td.amount,
  th.certifiedAmount,
  th.groupUtilisationAmount,
  td.certifiedAmount,
  th.originalAmount,
  td.originalAmount,
  th.discountAmount,
  td.discountAmount,
  td.groupUtilisationAmount,
  th.netAmount, td.netAmount {
    text-align: right;
    white-space: nowrap;
    @include alignTableColumnContent(right);
  }

  th.cutoffTime, td.cutoffTime,
  th.paymentStatus, td.paymentStatus {
    text-align: center;
  }


  td.report-select {
    width: 40px;

    input[type="checkbox"] {
      border: 1px solid black;
    }
  }

  .actions, .action {
    text-align: center;

    .loading-animation {
      width: 14px;
      height: 14px;
    }

    a {
      cursor: pointer;
      // margin-left: 10px;
    }

    .action-approve {
      color: $pastel-green;

      &:hover {
        color: lighten($pastel-green, 10%);
      }
    }

    .action-reject {
      color: lighten($pastel-red, 20%);

      &:hover {
        color: $pastel-red;
      }
    }
  }
  .actions__action {
    color: $table-actions-icon-color;
    display: inline-block;
    font-size: 20px;

    &:hover {
      color: $table-actions-icon-hover-color;
    }
  }
  tbody > tr > td .btn.btn-default  {
    & {
      @extend %btn-view-default;
    }
    &:hover {
      background: transparent;
    }
    &:active {
      box-shadow: none;
    }
  }
}

.demica-table,
.demica-table-compact {
  tbody {
    border-bottom: 1px solid #f1f1f1;
  }
}

.table--summary {
  width: 55em;

  >thead>tr>th,
  >tbody>tr>td,
  tbody {
    border: 0 none
  }

  >thead>tr>th,
  >tbody>tr>td {
    padding: 4px 16px;
  }
}

.timeline-item-subtable {
  margin-bottom: 0;

  &>thead>tr>th {
    border-bottom: 2px solid #fff;
  }

  &>tbody>tr>td {
    border-top: 1px solid #fff;
  }
}

.roundal,
.btn-circle {
  display: inline-block;
  width: 21px;
  height: 21px;
  line-height: 21px;
  text-align: center;
  cursor: pointer;
  background: transparent;
  border-radius: 50%;
}

.roundal {
  color: #fff;

  &--pos {
    background: $pastel-green;
  }

  &--neg {
    color: $pastel-red;
    // background: $pastel-red;
  }
}

.select_chkbox{
  right: 4px;
  top: 16px;
}

.select_all_chkbox{
  position: absolute;
}

.btn-circle {
  background: transparent;

  &:hover {
    background: #f8f8f8;
  }

  &:focus,
  &:active:focus {
    outline: none;
  }

  &:active {
    box-shadow: none;
  }
}

.table-column-control {
  display: flex;
  margin: auto 0;
  min-width: 120px;
}

.table-column-list {
  display: none;

  &.active {
    display: inline-block;
  }

  list-style-type: none;
  margin: 0;
  padding: 0;
}

.table-column-item {
  padding: $table-column-toggle-items-padding;
  display: inline-block;
  user-select: none;

  input[type="checkbox"] {
    display: inline;
    margin-right: 5px;
    cursor: pointer;
  }

  .title {
    display: inline;
    font-weight: normal;
    user-select: none;
    cursor: pointer;
  }
}

.table-panel {
  .box {
    padding-left: 15px;
    padding-right: 15px;
  }
  .box-body {

    .pagination,
    .ng-table-counts {
      margin-bottom: 0;
    }

    /* PAGINATION */
    .pagination > li {
      font-size: .85rem;
    }
    .pagination > li > a {
      background: $pagination-btn-bg;
      border: $pagination-btn-border;
      border-radius: $pagination-btn-border-radius !important;
      color: #666;

      &:hover {
        z-index: auto;
      }
    }
    .pagination > .active > a {
      border-color: $pagination-active-text-clr !important;
      color: $pagination-active-text-clr !important;
      z-index: 2;

      &:hover {
        z-index: 2;
      }
    }
    .pagination {
      li:first-child > a {
        color: $pagination-arrow-color;
        margin-right: $pagination-arrow-margin;
      }
      li:last-child > a {
        color: $pagination-arrow-color;
        margin-left: $pagination-arrow-margin;
      }
    }

    .ng-table-pager {
      bottom: 50px;
      left: 5px;
      right: 5px;
      padding: 10px;
    }
    .pagination > li > a {
      padding: $pagination-btn-padding;
    }

    .pagination>.active>a {
      background-color: $background-color;
    }


  }

  .box-footer {
    // height: 70px;
    border-top: $box-footer-border-top;
    display: flex;
    flex-direction: row-reverse;
    justify-content: space-between;
    margin: $box-footer-margin;
    padding: 10px;
  }

  .filter-panel .box-footer {
    margin: 0;
  }
}

.ng-table-pager button.active {
  border-color: $table-pager-border-color;
  background-color: $table-pager-bg-color;
  color: $table-pager-color;
}


td.action-buttons {
  .dropdown-toggle {
    background: transparent;
    border-radius: 100%;
    width: 25px;
    height: 25px;
    margin: 0;
    padding: 0;
    display: inline-block;

    &:hover {
      background: $light-bg-color;
    }
  }

  .dropdown-menu {
    margin: 0;
    padding: 0;

    li {
      cursor: pointer;
      text-align: center;
      padding: 10px 20px;

      &:hover {
        background: $table-row-shade-hover;
      }

      &.accept .fa {
        color: $pastel-green;
      }

      &.reject .fa {
        color: $pastel-red;
      }
    }
  }
}

// tables inside tabs should also flow (scroll)
.tab-content {
  overflow: auto;
}

#currency-summary td.currency {
  padding-right: 8px;
}

.div-position {
  position: absolute;
  margin-top: -17px;
}

.columns-2 {
  columns: 2;
}

.sell_toggle_space{
  display: inline-block;
  margin-top: $sell-toggle-space-margin-top;
  vertical-align: sub;
}

.table-column-control .btn.btn-invert-sell{
 padding: 4px 12px;
}

.approval-type-table {
  border: none;
  margin-bottom: 5px;
  background: rgba(255, 255, 255, 0);
  font-size: 12px;
  position: relative;
  left: 4%;

  & > tbody > tr > td,
  & > tfoot > tr > td {
    border: none;
    padding-left: 0;
    background: white;
  }

}
.transaction-type-table {
  border: none;
  & > tbody > tr > td{
    border: none;
    padding-left: inherit;
  }
}

input[type=checkbox], input[type=radio] {
  margin: 1px -3px 0;
  line-height: normal;
}

.checkbox, .radio {
  display: table-cell
}

.checkbox-config{
  display: block;
}
